<!DOCTYPE html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Two Changes are Coming - Serum</title><link rel=stylesheet href=/Serum/assets/css/style.css><link rel=stylesheet href=/Serum/assets/css/prism.css><div id=wrapper><header id=top><h1><a href=/Serum/ >Serum</a></h1><p>A simple static website generator</header><nav><ul><li><a href=/Serum/index.html>Home</a><li><a href=/Serum/getting-started.html>Getting Started</a><li><a href=/Serum/microscope.html>Microscope</a><li><a href=/Serum/docs/index.html>Docs</a><li><a href=/Serum/posts>Posts</a></ul></nav><hr><main><article class=post><header><h1>Two Changes are Coming</h1><p>Monday, 22 May 2017 <span class=tags>Tags: <a class=tag href=/Serum/tags/changes>changes</a> <a class=tag href=/Serum/tags/development>development</a> <a class=tag href=/Serum/tags/news>news</a> <a class=tag href=/Serum/tags/serum>serum</a></span></header><div><p><strong><em>UPDATE:</em> These changes are now merged to <code class=inline>master</code> branch. (May 26)</strong><p>I recently have made two changes which adds flexibility to Serum’s functionalities. Those changes are not yet available on <code class=inline>master</code> branch, but they are still available on GitHub, on two separate branches. Let’s take a look at which changes are waiting for you!<h2>1. Includes</h2><p>A new kind of templates, called “includes” are added. Includes are special templates which are compiled and rendered as HTML stubs before any other regular templates are processed. Regular templates, such as <code class=inline>templates/base.html.eex</code>, <code class=inline>templates/post.html.eex</code>, &hellip;, can include these HTML stubs as much as you want.<p>Through this change, <code class=inline>templates/nav.html.eex</code> template, which represents the navigation area of your web page, has been dropped from a set of required templates. Now you don’t have to keep the file even if your site does not need the navigation area. If you need the navigation area, simply create a template under <code class=inline>includes/</code> directory and include it from <code class=inline>templates/base.html.eex</code> or other regular template!<blockquote class=note><header>NOTE</header><p>It is not possible to define an include template which includes other include templates.</blockquote><h3>How to try this feature?</h3><p>To try Serum with this feature enabled, fetch the latest commits from GitHub and checkout <code class=inline>dev/includes</code> branch. Be sure to clone the repository first if you don’t have one.<pre><code>$ git fetch origin
$ git checkout dev/includes</code></pre><p>Next, make sure all deps are satisfied and build the escript.<pre><code>$ mix deps.get
$ mix escript.build --force</code></pre><p>Now you can invoke <code class=inline>./serum</code> to use Serum with “includes” feature.<p>Before actually use this version of Serum, you need to manually migrate templates in your projects first. Follow these instructions:<h4>I don’t want a navigation area.</h4><ol><li>Just delete the <code class=inline>templates/nav.html.eex</code> file.<li>Open <code class=inline>templates/*.html.eex</code> with your favorite code editor and remove any occurrences of <code class=inline>&lt;%= navigation %&gt;</code>.</ol><h4>I want to keep the navigation area.</h4><ol><li>Create a directory named <code class=inline>includes</code> right under your project root.<li>Move <code class=inline>templates/nav.html.eex</code> to <code class=inline>includes</code> directory.<li>Open <code class=inline>templates/*.html.eex</code> with your favorite code editor and replace all occurrences of <code class=inline>&lt;%= navigation %&gt;</code> with <code class=inline>&lt;%= include &quot;nav&quot; %&gt;</code>.</ol><h2>2. More flexible header</h2><blockquote class=note><header>EDIT:</header><p>Header delimiter has been changed to <code>---</code>.</blockquote><p>So far, source files for pages and posts have required one or two lines of “header”, which defines the metadata of each page or post, at the very beginning of each file. The format of the header was very strict, and it was not ready for future changes, at all. So I decided to introduce a new syntax for metadata definition, which may look familiar for most of people. I hope it becomes easier for both Serum and the users to adapt to future changes well.<p><strong>Before:</strong><pre><code># This is the title
# some, tags</code></pre><p><strong>After:</strong><pre><code>===
title: This is the title
tags: some, tags
===</code></pre><h3>How to try this feature?</h3><p>To try Serum with this feature enabled, fetch the latest commits from GitHub and checkout <code class=inline>dev/flexible-header</code> branch. Be sure to clone the repository first if you don’t have one.<pre><code>$ git fetch origin
$ git checkout dev/flexible-header</code></pre><p>Next, make sure all deps are satisfied and build the escript.<pre><code>$ mix deps.get
$ mix escript.build --force</code></pre><p>Now you can invoke <code class=inline>./serum</code> to use Serum with “more flexible header” feature.<p>Before actually use this version of Serum, you need to manually migrate all files under <code class=inline>pages/</code> and <code class=inline>posts/</code> directory. Follow these instructions:<h4>Migrating pages</h4><p>Every source file under <code class=inline>pages/</code> directory, whether <code class=inline>*.md</code> or <code class=inline>*.html</code>, should look like this:<pre><code># &lt;Page Title Goes Here&gt;

(Rest of the file ...)</code></pre><p>Replace the first line like this:<pre><code>===
title: &lt;Page Title Goes Here&gt;
===

(Rest of the file ...)</code></pre><h4>Migrating posts</h4><p>Every source file under <code class=inline>posts/</code> directory should look like this:<pre><code># &lt;Post Title Goes Here&gt;
# these, are, some, tags

(Rest of the file ...)</code></pre><p>Replace the first two lines like this:<pre><code>===
title: &lt;Post Title Goes Here&gt;
tags: these, are, some, tags
===

(Rest of the file ...)</code></pre><p>If you want to leave a post untagged, just delete a line starting with <code class=inline>tags:</code>!<h2>I wanna try both new features! How can I?</h2><p>For those who want to preview these two changes at the same time, I prepared another branch named <code class=inline>dev/changes-may-2017</code>. Checkout this branch and follow the instructions described above. When you get a notification that these new features are now merged to <code class=inline>master</code>, just switch to <code class=inline>master</code> branch. Easy!<p>And while you are trying these new features, please feel free to open an issue any time you encounter a problem. All of your comments can make these features much better.<blockquote class=note><header>NOTE</header><p><a href=/Serum/docs/index.html>The documentation</a> will be updated after these branches are merged into <code>master</code>. In the meantime, if you have any questions regarding to these new features, please contact me through <a href=https://github.com/Dalgona/Serum/issues>GitHub issue tracker</a> or through <a href=mailto:dalgona@hontou.moe>email</a>.</blockquote></div></article></main><hr><footer><p>Copyright &copy; 2017 Dalgona. <a href=https://dalgona.github.io/ >[Website]</a> <a href=https://github.com/Dalgona>[GitHub]</a><p>This website was generated by <a href=https://github.com/Dalgona/Serum>Serum</a>.</footer></div><script src=/Serum/assets/js/prism.js></script>
