<!DOCTYPE html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>Added Pagination Support - Serum</title><link rel=stylesheet href=/Serum/assets/css/style.css><link rel=stylesheet href=/Serum/assets/css/prism.css><div id=wrapper><header id=top><h1><a href=/Serum/ >Serum</a></h1><p>A simple static website generator</header><nav><ul><li><a href=/Serum/index.html>Home</a><li><a href=/Serum/getting-started.html>Getting Started</a><li><a href=/Serum/microscope.html>Microscope</a><li><a href=/Serum/docs/index.html>Docs</a><li><a href=/Serum/posts>Posts</a></ul></nav><hr><main><article class=post><header><h1>Added Pagination Support</h1><p>Monday, 4 Sep 2017 <span class=tags>Tags: <a class=tag href=/Serum/tags/devnote/index.html>devnote</a> <a class=tag href=/Serum/tags/serum/index.html>serum</a></span></header><div><p>Support for pagination of post lists was added a few days ago! Pull the latest commit from GitHub and you will be able to use this feature. Pagination affects the list of all posts and list of each tag.<h2>Setting Up <code class=inline>serum.json</code></h2><p>Pagination is controlled by <code class=inline>serum.json</code> file. You need to specify two new properties.<pre><code class=lang-javascript>{
  ...
  &quot;pagination&quot;: true,
  &quot;posts_per_page&quot;: 5,
  ...
}</code></pre><table><col><col><col><thead><tr><th style=text-align:left>Property<th style=text-align:left>Type<th style=text-align:left>Description</thead><tr><td style=text-align:left><code class=inline>pagination</code><td style=text-align:left>boolean<td style=text-align:left>Determines if pagination is enabled for this project. Defaults to <code class=inline>false</code>.<tr><td style=text-align:left><code class=inline>posts_per_page</code><td style=text-align:left>integer<td style=text-align:left>Specifies the maximum number of items displayed in each page. This property is valid only if <code class=inline>pagination</code> is set to <code class=inline>true</code>. Defaults to <code class=inline>5</code>.</table><p>If pagination is enabled, Serum will emit a few more HTML files like below:<pre><code>site/posts/index.html      ← Identical to site/posts/page-1.html
site/posts/page-1.html
site/posts/page-2.html
...
site/posts/page-n.html

site/tags/foo/index.html   ← Identical to site/tags/foo/page-1.html
site/tags/foo/page-1.html
site/tags/foo/page-2.html
...
site/tags/foo/page-n.html
...</code></pre><h2>Preparing the Template</h2><p>Once you have done configuring pagination in <code class=inline>serum.json</code>, you finally need to add some codes in <code class=inline>templates/list.html.eex</code> template so that the users can navigate between pages back and forth. Here’s a minimum example:<pre><code class=lang-markup>...
&lt;ul&gt;
  &lt;%= for post &lt;- posts do %&gt;
    &lt;li&gt; ... &lt;/li&gt;
  &lt;% end %&gt;
&lt;/ul&gt;

Showing page &lt;%= current_page %&gt; of &lt;%= max_page %&gt;.&lt;br&gt;
&lt;%= if prev_page do %&gt;
  &lt;a href=&quot;&lt;%= prev_page %&gt;&quot;&gt;Newer Posts&lt;/a&gt;&lt;br&gt;
&lt;% end %&gt;
&lt;%= if next_page do %&gt;
  &lt;a href=&quot;&lt;%= next_page %&gt;&quot;&gt;Older Posts&lt;/a&gt;&lt;br&gt;
&lt;% end %&gt;
...</code></pre><p>As you can see, four new variables have been introduced to support pagination.<table><col><col><col><thead><tr><th style=text-align:left>Name<th style=text-align:left>Type<th style=text-align:left>Description</thead><tr><td style=text-align:left><code class=inline>current_page</code><td style=text-align:left>integer<td style=text-align:left>The number of the current page.<tr><td style=text-align:left><code class=inline>max_page</code><td style=text-align:left>integer<td style=text-align:left>The number of the last page.<tr><td style=text-align:left><code class=inline>prev_page</code><td style=text-align:left>string or <code class=inline>nil</code><td style=text-align:left>A URL pointing at the previous page. This is set to <code class=inline>nil</code> if the current page is the first page.<tr><td style=text-align:left><code class=inline>next_page</code><td style=text-align:left>string or <code class=inline>nil</code><td style=text-align:left>A URL pointing at the next page. This is set to <code class=inline>nil</code> if the current page is the last page.</table><p>Make sure you check both <code class=inline>prev_page</code> and <code class=inline>next_page</code> for <code class=inline>nil</code> when displaying links to the previous/next page, or broken links will be produced in certain circumstances.</div></article></main><hr><footer><p>Copyright &copy; 2017 Dalgona. <a href=https://dalgona.github.io/ >[Website]</a> <a href=https://github.com/Dalgona>[GitHub]</a><p>This website was generated by <a href=https://github.com/Dalgona/Serum>Serum</a>.</footer></div><script src=/Serum/assets/js/prism.js></script>
